syntax = "proto3";
import "definition.proto";
package xarchain.chainabstraction.v1;

service Query {
  // ListRequestForFunds Queries a list of RequestForFunds items.
  rpc GetRequestForFunds(QueryGetRequestForFundsRequest) returns (QueryGetRequestForFundsResponse) {
  }

  // ListRequestForFunds defines the ListRequestForFunds RPC.
  rpc ListRequestForFunds(QueryAllRequestForFundsRequest) returns (QueryAllRequestForFundsResponse) {
  }

  // ListPendingClaims Queries a list of PendingClaims items.
  rpc GetPendingClaims(QueryGetPendingClaimsRequest) returns (QueryGetPendingClaimsResponse) {
  }

  // ListPendingClaims defines the ListPendingClaims RPC.
  rpc ListPendingClaims(QueryAllPendingClaimsRequest) returns (QueryAllPendingClaimsResponse) {
  }

  // ListPendingSettlements Queries a list of PendingSettlements items.
  rpc GetPendingSettlements(QueryGetPendingSettlementsRequest) returns (QueryGetPendingSettlementsResponse) {
  }

  // ListPendingSettlements defines the ListPendingSettlements RPC.
  rpc ListPendingSettlements(QueryAllPendingSettlementsRequest) returns (QueryAllPendingSettlementsResponse) {
  }

  // Queries a ProtocolFees by index.
  rpc GetProtocolFees(QueryGetProtocolFeesRequest) returns (QueryGetProtocolFeesResponse) {
  }

  // ListSolverData Queries a list of SolverData items.
  rpc GetSolverData(QueryGetSolverDataRequest) returns (QueryGetSolverDataResponse) {
  }

  // ListSolverData defines the ListSolverData RPC.
  rpc ListSolverData(QueryAllSolverDataRequest) returns (QueryAllSolverDataResponse) {
  }

  // ListSettlement Queries a list of Settlement items.
  rpc GetSettlement(QueryGetSettlementRequest) returns (QueryGetSettlementResponse) {
  }

  // ListSettlement defines the ListSettlement RPC.
  rpc ListSettlement(QueryAllSettlementRequest) returns (QueryAllSettlementResponse) {
  }
}

// QueryParamsRequest is request type for the Query/Params RPC method.
message QueryParamsRequest {}

// QueryParamsResponse is response type for the Query/Params RPC method.
message QueryParamsResponse {
  // params holds all the parameters of this module.
  Params params = 1;
}

// QueryGetRequestForFundsRequest defines the QueryGetRequestForFundsRequest message.
message QueryGetRequestForFundsRequest {
  uint64 id = 1;
}

// QueryGetRequestForFundsResponse defines the QueryGetRequestForFundsResponse message.
message QueryGetRequestForFundsResponse {
  RequestForFunds request_for_funds = 1 ;
}

// QueryAllRequestForFundsRequest defines the QueryAllRequestForFundsRequest message.
message QueryAllRequestForFundsRequest {
  PageRequest pagination = 1;
}

// QueryAllRequestForFundsResponse defines the QueryAllRequestForFundsResponse message.
message QueryAllRequestForFundsResponse {
  repeated RequestForFunds request_for_funds = 1 ;
  PageResponse pagination = 2;
}

// QueryGetPendingClaimsRequest defines the QueryGetPendingClaimsRequest message.
message QueryGetPendingClaimsRequest {
  uint64 id = 1;
}

// QueryGetPendingClaimsResponse defines the QueryGetPendingClaimsResponse message.
message QueryGetPendingClaimsResponse {
  PendingClaims pending_claims = 1 ;
}

// QueryAllPendingClaimsRequest defines the QueryAllPendingClaimsRequest message.
message QueryAllPendingClaimsRequest {
  PageRequest pagination = 1;
}

// QueryAllPendingClaimsResponse defines the QueryAllPendingClaimsResponse message.
message QueryAllPendingClaimsResponse {
  repeated PendingClaims pending_claims = 1 ;
  PageResponse pagination = 2;
}

// QueryGetPendingSettlementsRequest defines the QueryGetPendingSettlementsRequest message.
message QueryGetPendingSettlementsRequest {
  uint64 id = 1;
}

// QueryGetPendingSettlementsResponse defines the QueryGetPendingSettlementsResponse message.
message QueryGetPendingSettlementsResponse {
  PendingSettlement pending_settlements = 1 ;
}

// QueryAllPendingSettlementsRequest defines the QueryAllPendingSettlementsRequest message.
message QueryAllPendingSettlementsRequest {
  PageRequest pagination = 1;
}

// QueryAllPendingSettlementsResponse defines the QueryAllPendingSettlementsResponse message.
message QueryAllPendingSettlementsResponse {
  repeated PendingSettlement pending_settlements = 1 ;
  PageResponse pagination = 2;
}

// QueryGetProtocolFeesRequest defines the QueryGetProtocolFeesRequest message.
message QueryGetProtocolFeesRequest {}

// QueryGetProtocolFeesResponse defines the QueryGetProtocolFeesResponse message.
message QueryGetProtocolFeesResponse {
  ProtocolFees protocol_fees = 1 ;
}

// QueryGetSolverDataRequest defines the QueryGetSolverDataRequest message.
message QueryGetSolverDataRequest {
  string index = 1;
}

// QueryGetSolverDataResponse defines the QueryGetSolverDataResponse message.
message QueryGetSolverDataResponse {
  SolverData solver_data = 1 ;
}

// QueryAllSolverDataRequest defines the QueryAllSolverDataRequest message.
message QueryAllSolverDataRequest {
  PageRequest pagination = 1;
}

// QueryAllSolverDataResponse defines the QueryAllSolverDataResponse message.
message QueryAllSolverDataResponse {
  repeated SolverData solver_data = 1;
  PageResponse pagination = 2;
}

// QueryGetSettlementRequest defines the QueryGetSettlementRequest message.
message QueryGetSettlementRequest {
  uint64 id = 1;
}

// QueryGetSettlementResponse defines the QueryGetSettlementResponse message.
message QueryGetSettlementResponse {
  Settlement settlement = 1;
}

// QueryAllSettlementRequest defines the QueryAllSettlementRequest message.
message QueryAllSettlementRequest {
  PageRequest pagination = 1;
}

// QueryAllSettlementResponse defines the QueryAllSettlementResponse message.
message QueryAllSettlementResponse {
  repeated Settlement settlement = 1;
  PageResponse pagination = 2;
}

// MsgUpdateParams is the Msg/UpdateParams request type.
message MsgUpdateParams {
  // authority is the address that controls the module (defaults to x/gov unless overwritten).
  string authority = 1 ;

  // params defines the module parameters to update.

  // NOTE: All parameters must be supplied.
  Params params = 2;
}

// MsgUpdateParamsResponse defines the response structure for executing a
// MsgUpdateParams message.
message MsgUpdateParamsResponse {}

// MsgCreateRequestForFunds defines the MsgCreateRequestForFunds message.
message MsgCreateRequestForFunds {
  string user = 7 ;
  repeated RFFSourcePair sources = 1;
  Universe destinationUniverse = 2;
  bytes destinationChainID = 3;
  bytes recipientAddress = 9;
  repeated RFFDestinationPair destinations = 4;
  bytes nonce = 5;
  uint64 expiry = 6;
  repeated SignatureDatum signatureData = 8;
}

// MsgCreateRequestForFundsResponse defines the MsgCreateRequestForFundsResponse message.
message MsgCreateRequestForFundsResponse {
  uint64 id = 1;
}

// MsgCreatePendingClaims defines the MsgCreatePendingClaims message.
message MsgCreatePendingClaim {
  string creator = 1 ;
  BasicClaim claim = 2;
}

// MsgCreatePendingClaimsResponse defines the MsgCreatePendingClaimsResponse message.
message MsgCreatePendingClaimResponse {
  uint64 id = 1;
}

// MsgUpdatePendingClaims defines the MsgUpdatePendingClaims message.
message MsgProcessPendingClaim {
  string creator = 1 ;
  uint64 claimId = 2;
  ClaimVerdict verdict = 3;
  bytes signature = 4;
}

// MsgUpdatePendingClaimsResponse defines the MsgUpdatePendingClaimsResponse message.
message MsgProcessPendingClaimResponse {}

// MsgUpsertProtocolFees defines the MsgUpsertProtocolFees message.
message MsgUpsertProtocolFees {
  string creator = 1 ;
  uint64 feeBP = 2;
  repeated FixedFeeTuple collectionFees = 3;
  repeated FixedFeeTuple fulfilmentFees = 4;
  repeated AdminFeeRecipient feeRecipients = 5;
}

// MsgUpsertProtocolFeesResponse defines the MsgUpsertProtocolFeesResponse message.
message MsgUpsertProtocolFeesResponse {}

// MsgCreateSolverData defines the MsgCreateSolverData message.
message MsgUpsertSolverData {
  string cosmosAddress = 1 ;
  repeated RouteFee advertisedFees = 2;
  repeated SolverAddress addresses = 3;
}

// MsgCreateSolverDataResponse defines the MsgCreateSolverDataResponse message.
message MsgUpsertSolverDataResponse {}
